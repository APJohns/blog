---
import { Image } from 'astro:assets';
import HeaderLink from './HeaderLink.astro';
import logo from '@/images/logo.png';
---

<header class="nav-primary" id="navPrimary">
  <button type="button" class="hamburger" id="hamburger">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width={1.5} stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
    </svg>
  </button>
  <nav>
    <div class="nav-logo">Ash Johns</div>
    <div class="nav-list internal-links">
      <HeaderLink href="/">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width={1.5}
          stroke="currentColor"
          class="size-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"
          ></path>
        </svg>
        Home
      </HeaderLink>
      <HeaderLink href="/about">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width={1.5}
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"
          ></path>
        </svg>
        About me
      </HeaderLink>
      <HeaderLink href="/articles">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width={1.5}
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"
          ></path>
        </svg>
        Articles
      </HeaderLink>
      <HeaderLink href="/notes">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width={1.5}
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"
          ></path>
        </svg>
        Notes
      </HeaderLink>
    </div>

    <div class="nav-list social-links">
      <div class="list-header">Elsewhere</div>
      <HeaderLink href="https://ashpjohns.com" target="_blank"><Image src={logo} alt="logo" /> Portfolio</HeaderLink>
      <HeaderLink href="https://github.com/APJohns" target="_blank"
        ><svg viewBox="0 0 16 16" aria-hidden="true" astro-icon="social/github"
          ><path
            fill="currentColor"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"
          ></path></svg
        >GitHub</HeaderLink
      >
      <HeaderLink href="https://www.linkedin.com/in/ashley-p-johns" target="_blank"
        ><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" fill="currentColor"
          ><path
            d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
          ></path></svg
        >LinkedIn</HeaderLink
      >
    </div>
  </nav>
</header>

<script>
  const hamburger = document.querySelector('#hamburger');
  const nav = document.querySelector('#navPrimary');

  if (hamburger && nav) {
    hamburger.addEventListener('click', () => {
      nav.classList.toggle('open');
      hamburger.classList.toggle('open');
    });
  }
</script>

<style>
  .nav-primary {
    display: flex;
    flex-direction: column;
    margin: 1rem;
    border-radius: 1rem;
    background: #eaeaea;
    border: 1px solid #ddd;
  }

  .nav-primary.open .hamburger {
    align-self: flex-end;
  }

  .hamburger {
    cursor: pointer;
    padding: 1rem;
    padding-bottom: 0;
    box-sizing: content-box;
    border: 0;
    border-radius: 0;
    width: 2rem;
    height: 2rem;
    background: transparent;
  }

  h2 {
    margin: 0;
    font-size: 1em;
  }

  h2 a,
  h2 a.active {
    text-decoration: none;
  }

  nav {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    width: 0;
    margin-right: 2rem;
    overflow: hidden;
  }

  .nav-primary.open nav {
    width: auto;
    padding: 2rem;
  }

  .nav-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  nav a {
    color: var(--black);
    text-decoration: none;
  }

  nav a:hover {
    color: var(--accent-secondary);
  }

  nav a.active {
    text-decoration: underline;
  }

  .internal-links {
    margin-top: 2rem;
  }

  .social-links {
    margin-top: 4rem;
  }

  .list-header,
  .nav-logo {
    color: var(--accent-secondary);
  }

  .nav-logo {
    font-size: var(--fs-emphasis);
    font-weight: var(--font-weight-bold);
  }

  .list-header {
    font-size: var(--fs-subtle);
    font-weight: var(--font-weight-semibold);
  }

  @media (min-width: 800px) {
    .hamburger {
      display: none;
    }

    .nav-primary {
      padding: 2rem;
    }

    .nav-primary.open nav {
      padding: 0;
    }

    nav {
      width: auto;
    }
  }
</style>
